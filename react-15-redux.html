<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>redux</title>

		<link rel="stylesheet" href="reveal/css/reset.css">
		<link rel="stylesheet" href="reveal/css/reveal.css">
		<link rel="stylesheet" href="reveal/css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="reveal/lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h2>State & Redux</h2>
				</section>
				<section>
					<h4>Purpose of this lecture</h4>
					<h6>The purpose of thie lecture is to give an introduction to redux and handling global state. Redux is simple but not easy, and it will take more than a day to grasp the concept and be ready to work with redux.</h6>
				</section>
				<section>
					<h4>Global state and local state</h4>
					<ul>
						<li>Global state</li>
						<ul>
							<li>State in the whole app</li>
							<li>logged user, showPopup</li>
						</ul>
						<li>Local state</li>
							<ul>
								<li>State inside a component</li>
								<li>showButton, user</li>
							</ul>
					</ul>
				</section>
				<section>
					<h4>State could be</h4>
						<li>Server response</li>
						<li>Cached data</li>
						<li>Locally created data that has not yet been persisted to the server.</li>
						<li>Active routes</li>
						<li>Selected tabs</li>
						<li>Spinners</li>
						<li>Pagination controls</li>
						<li>and so on.</li>
				</section>
				<section>
						<h4>Flux</h4>
						<p>Flux is the application architecture that Facebook uses for building client-side web applications.</p>
						<img src="media/13/flux.png" alt="flux">
				</section>
<!--
					<h4>Redux
					#<h4>Is a predictable state container for JavaScript apps.


					<br/>

					>
					"If a model can update another model, then a view can update a model, which updates another model, and this, in turn, might cause another view to update. At some point, you no longer understand what happens in your app as you have lost control over the when, why, and how of its state. When a system is opaque and non-deterministic, it's hard to reproduce bugs or add new features." - [redux.js](https://redux.js.org/introduction/motivation)


					<br/>

					#<h4>Redux
					<li>Is standalone
					<li>Works well with react
					<li>Follows flux principles
					```JavaScript
					npm install --save redux // non react project
					```
					```JavaScript
					npm install --save redux react-redux // inside react project
					```


					<br/>

					<h4>Redux devtools
					[Chrome Download](https://chrome.google.com/webstore/detail/redux-devtools)
					[Mozilla Download](https://addons.mozilla.org/sv-SE/firefox/addon/reduxdevtools/)

					Needs to be added in your react application
					```JavaScript
					const store = createStore(
					 reducer, /<li>preloadedState, */
					 window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()
					);
					```


					<br/>

					**Actions*<li>are payloads of information that send data from your application to your store.
					**Reducers*<li>specify how the application's state changes in response to actions sent to the store.
					The **Store*<li>is where the state is stored


					<br/>

					<h4>Redux + React

					![Alt text](./media/13/React+Redux.png?raw=true)


					<br/>

					<h4>State machine

					![Alt text](./media/13/StateMachine.png?raw=true)


					<br/>

					<h4>Principles

					<li>**Single source of truth*<li>The state of your whole application is stored in an object tree within a single store.
					A single state tree also makes it easier to debug or inspect an application.

					<li>**State is read-only*<li>The only way to change the state is to emit an action, an object describing what happened.

					<li>**Changes are made with pure functions*<li>To specify how the state tree is transformed by actions, you write pure reducers.
					Reducers are just pure functions that take the previous state and an action, and return the next state.

					<li>We do **not*<li>mutate state, we create new states and this is done **synchronous**


					<br/>

					<h4>Examples

					 -->
			</div>
		</div>

		<script src="reveal/js/reveal.js"></script>

		<script>

			Reveal.initialize({
				dependencies: [
					{ src: 'reveal/plugin/markdown/marked.js' },
					{ src: 'reveal/plugin/markdown/markdown.js' },
					{ src: 'reveal/plugin/notes/notes.js', async: true },
					{ src: 'reveal/plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
